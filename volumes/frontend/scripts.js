(()=>{"use strict";var e={683:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.armForm=t.submit=t.parseFormData=void 0;const r=o(820),i=o(821);t.parseFormData=e=>{let t={};return e.forEach(((e,o)=>{Reflect.has(t,o)?(Array.isArray(t[o])||(t[o]=[t[o]]),t[o].push(e)):t[o]=e})),t},t.submit=(e,o)=>{const n=(0,t.parseFormData)(e.formData);console.log(JSON.parse(n.raw_eas)),fetch("https://renderer.autonomous-times.com/create",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:n.raw_eas}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),(0,i.preview)(e.image),(0,r.showLink)("runV1",JSON.parse(n.raw_eas.sig.uid))})).catch((function(e){console.log("Request failed",e)}))},t.armForm=()=>n(void 0,void 0,void 0,(function*(){return new Promise(((e,o)=>{const r=document.querySelector("form");r.addEventListener("submit",(e=>{e.preventDefault(),new FormData(r)})),r.addEventListener("formdata",(o=>n(void 0,void 0,void 0,(function*(){e((0,t.submit)(o,r.id))}))))}))}))},820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showLink=void 0,t.showLink=(e,t)=>{document.getElementById("link_container").style.visibility="visible",document.getElementById("frame_link").innerHTML=`https://unforgettable.autonomous-times.com/?flavor=${e}&uid=${t}`}},821:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.preview=void 0,t.preview=e=>{const t=document.getElementById("preview_container");t.innerHTML="";const o=document.createElement("article");o.style.width="100%",o.style.height="auto",o.style.position="relative";const n=document.createElement("img");n.src="https://frames.autonomous-times.com/frames/"+e,n.style.width="100%",n.style.height="auto",o.appendChild(n),t.appendChild(o)}}},t={};(0,function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,o),i.exports}(683).armForm)()})();
//# sourceMappingURL=scripts.js.map