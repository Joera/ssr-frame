{"version":3,"file":"scripts.js","mappings":"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","sources":["webpack://composedb with transport union indexer/./src/factories/form.factory.ts","webpack://composedb with transport union indexer/./src/factories/preview.factory.ts","webpack://composedb with transport union indexer/webpack/bootstrap","webpack://composedb with transport union indexer/webpack/runtime/make namespace object","webpack://composedb with transport union indexer/./src/index.ts","webpack://composedb with transport union indexer/./styling/main.scss"],"sourcesContent":["import { preview } from \"./preview.factory\";\n\nexport const parseFormData = (formData: FormData) => {\n\n    let object: any  = {};\n    formData.forEach((value, key) => {\n        // Reflect.has in favor of: object.hasOwnProperty(key)\n        if(!Reflect.has(object, key)){\n            object[key] = value;\n            return;\n        }\n        if(!Array.isArray(object[key])){\n            object[key] = [object[key]];    \n        }\n        object[key].push(value);\n    });\n\n    return object;\n}\n\nexport const submit = (e: FormDataEvent, id: string) => {\n\n    const formData = parseFormData(e.formData);\n\n    console.log(JSON.parse(formData.raw_eas));\n\n        fetch('http://localhost:3009/create', { \n            method: 'post',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: formData.raw_eas\n        })\n        .then(function (response) {\n            console.log(response);\n            return response.json();\n        })\n        .then(function (result) {\n            console.log(result);\n\n            preview(result.image);\n        })\n        .catch (function (error) {\n            console.log('Request failed', error);\n        });\n\n}\n\n\nexport const armForm = async () => {\n\n    return new Promise( (resolve,reject) => {\n\n        const el = document.querySelector('form') as HTMLFormElement;\n\n        let self = this;\n\n        const onSubmit = (e: Event) => {\n            e.preventDefault();\n            new FormData(el);\n        }\n    \n        el.addEventListener(\"submit\", onSubmit );\n        el.addEventListener(\"formdata\", async (cc: any) => {\n            resolve(submit(cc,el.id));\n        });\n    });\n}","export const preview = (image : string) => {\n\n    const container = document.getElementById(\"preview_container\");\n    container.innerHTML = \"\";\n\n    const a = document.createElement(\"article\");\n    a.style.width = \"100%\";\n    a.style.height = \"auto\";\n    a.style.position = \"relative\";\n\n    const img = document.createElement(\"img\");\n    img.src = \"http://localhost:8880/frames/\" + image;\n    img.style.width = \"100%\";\n    img.style.height = \"auto\";\n\n    a.appendChild(img);\n\n    container.appendChild(a);\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { armForm } from \"./factories/form.factory\";\n\narmForm()","// extracted by mini-css-extract-plugin\nexport {};"],"names":[],"sourceRoot":""}